<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><title>PMD - IDE Integrations</title><style type="text/css" media="all">
          @import url("./style/maven-base.css");
          
			    @import url("./style/maven-theme.css");</style><link rel="stylesheet" href="./style/print.css" type="text/css" media="print"></link><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta><meta name="author" content="David Dixon-Peugh"></meta><meta name="email" content="dpeugh@users.sourceforge.net"></meta></head><body class="composite"><div id="banner"><a href="http://pmd.sourceforge.net/" id="organizationLogo"><img alt="Project Ultra*Log @ DARPA" src="http://sourceforge.net/sflogo.php?group_id=56262&amp;type=5"></img></a><a href="http://pmd.sourceforge.net/" id="projectLogo"><img alt="PMD" src="./images/pmd_logo_small.jpg"></img></a><div class="clear"><hr></hr></div></div><div id="breadcrumbs"><div class="xright">
        
        <a href="http://sourceforge.net/projects/pmd">SourceForge.net Project Page</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://sourceforge.net">Hosted by SourceForge</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://www.ultralog.net/">Ultra*Log</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://www.darpa.mil/">DARPA</a>
      </div><div class="clear"><hr></hr></div></div><div id="leftColumn"><div id="navcolumn"><div id="menuOverview"><h5>Overview</h5><ul><li class="none"><a href="installing.html">Installation</a></li><li class="none"><a href="running.html">Command line usage</a></li><li class="none"><a href="ant-task.html">Ant task usage</a></li><li class="none"><strong><a href="integrations.html">IDE plugin usage</a></strong></li><li class="none"><a href="news.html">PMD in the press</a></li><li class="none"><a href="bestpractices.html">Best practices</a></li><li class="none"><a href="cpd.html">Finding copied and pasted code</a></li><li class="none"><a href="similar-projects.html">Similar projects</a></li><li class="none"><a href="credits.html">Credits</a></li><li class="none"><a href="license.html">License</a></li><li class="none"><a href="meaning.html">What does 'PMD' mean?</a></li></ul></div><div id="menuCustomizing_PMD"><h5>Customizing PMD</h5><ul><li class="none"><a href="compiling.html">Compiling PMD</a></li><li class="none"><a href="howtowritearule.html">How to write a rule</a></li><li class="none"><a href="howtomakearuleset.html">How to make a rule set</a></li><li class="none"><a href="howitworks.html">How it works</a></li></ul></div><div id="menuFor_example"><h5>For example</h5><ul><li class="none"><a href="scoreboard.html">Run PMD on a Sourceforge project</a></li></ul></div><div id="menuRule_Sets"><h5>Rule Sets</h5><ul><li class="none"><a href="rules/basic.html">Basic</a></li><li class="none"><a href="rules/naming.html">Naming</a></li><li class="none"><a href="rules/unusedcode.html">Unused Code</a></li><li class="none"><a href="rules/design.html">Design</a></li><li class="none"><a href="rules/imports.html">Import Statements</a></li><li class="none"><a href="rules/junit.html">JUnit Tests</a></li><li class="none"><a href="rules/strings.html">Strings</a></li><li class="none"><a href="rules/braces.html">Braces</a></li><li class="none"><a href="rules/codesize.html">Code Size</a></li><li class="none"><a href="rules/javabeans.html">Javabeans</a></li><li class="none"><a href="rules/finalizers.html">Finalizers</a></li><li class="none"><a href="rules/coupling.html">Coupling</a></li><li class="none"><a href="rules/strictexception.html">Strict Exceptions</a></li><li class="none"><a href="rules/controversial.html">Controversial</a></li></ul></div><div id="menuProject_Documentation"><h5>Project Documentation</h5><ul><li class="none"><a href="index.html">About PMD</a></li><li class="collapsed"><a href="project-info.html">Project Info</a></li><li class="collapsed"><a href="maven-reports.html">Project Reports</a></li><li class="none"><a href="http://maven.apache.org/development-process.html">Development Process</a></li></ul></div><a href="http://maven.apache.org/" title="Built by Maven" id="poweredBy"><img alt="Built by Maven" src="./images/logos/maven-button-1.png"></img></a></div></div><div id="bodyColumn"><div class="contentBox"><div class="section"><h2><a name="Integrations_with_IDEs">Integrations with IDEs</a></h2><div class="subsection"><h3><a name="Summary">Summary</a></h3><table class="bodyTable"><tr class="b"><td><b>IDE</b></td><td><b>Package</b></td><td><b>Maintainers</b></td></tr><tr class="a"><td>Eclipse</td><td><a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/pmd/pmd-eclipse/">pmd-eclipse</a></td><td>Tom Burke, Philippe Herlin</td></tr><tr class="b"><td>Emacs</td><td><a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/pmd/pmd-emacs/">pmd-emacs</a></td><td>Nascif Abousalh-Neto</td></tr><tr class="a"><td>JBuilder</td><td><a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/pmd/pmd-jbuilder/">pmd-jbuilder</a></td><td>Dave Craine</td></tr><tr class="b"><td>NetBeans/Sun ONE Studio</td><td><a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/pmd/pmd-netbeans/">pmd-netbeans</a></td><td>Ole-Martin Mork, Gunnlaugur Thor Briem</td></tr><tr class="a"><td>JEdit</td><td><a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/pmd/pmd-jedit/">pmd-jedit</a></td><td>Jiger Patel</td></tr><tr class="b"><td>jDeveloper</td><td><a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/pmd/pmd-jdeveloper/">pmd-jdeveloper</a></td><td>Tom Copeland</td></tr><tr class="a"><td>Maven</td><td>N/A</td><td>Vincent Massol</td></tr><tr class="b"><td>Gel</td><td><a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/pmd/pmd-gel/">pmd-gel</a></td><td>Tom Copeland</td></tr><tr class="a"><td>TextPad</td><td>N/A</td><td>Jeff Epstein</td></tr><tr class="b"><td>IntelliJ IDEA</td><td>N/A</td><td>Tom Copeland</td></tr><tr class="a"><td>Ant</td><td>N/A</td><td>Tom Copeland</td></tr></table></div><div class="subsection"><h3><a name="Eclipse">Eclipse</a></h3><p>
Integration into Eclipse is accomplished through the extensive
Plugin architecture provided by Eclipse.  It is written in Java,
and has some nice features to it.
</p><p>
Eclipse Integration will fill the TODO list of the project with
each Rule Violation that PMD detects.  These violations are marked
in the code with the Task icon on the left hand side of the editor.
</p><p>
The Eclipse integration was written with the version 2.0 of Eclipse,
so I'm not certain if it will work on earlier versions.
</p><p>
As Eclipse is not my primary IDE, we are looking for people who can
make suggestions, and possibly even handle the care and feeding of
the Eclipse plugin.
</p></div><div class="subsection"><h3><a name="Emacs">Emacs</a></h3><p>
    Integration with GNU Emacs is performed through an ELisp package, pmd.el.
    It supports two commands, "pmd-current-buffer" and "pmd-current-dir".
    The output is captured in a compilation buffer which allows the user to "jump"
    directly to the source code position associated with the PMD warnings.
          </p></div><div class="subsection"><h3><a name="Borland_JBuilder">Borland JBuilder</a></h3><p>
To enable this OpenTool in JBuilder, place the PMDOpenTool.jar file AND the pmd-x.x.jar file (where
x.x is the version id) into JBuilder's lib/ext directory.  Once JBuilder is restart, the PMD OpenTool
will be enabled.
What you can do:
<ul>
<li>Check a single file by bringing up the context menu from the file tab and selecting PMDCheck</li>
<li>Configure the rulesets that the PMD OpenTool will use by selecting Tools-&gt;PMD-&gt;Configure PMD</li>
<li>Check all the files in a project by bringing up the context menu for the project node and selecting PMD Check Project</li>
</ul>
</p><p>When running PMD, the results will be displayed in the MessageView under a tab called PMD Results.  If you click on a
violation message within this view, you will be taken to the line in the source code where the violation was detected.
</p><p>Things still to do:
<ul>
<li>Enable selection of individual rules within a rule set (maybe)</li>
<li>Optional insertion of @todo comments at the point of a violation</li>
<li>Possibly provide configurable ability to limit the number of violations per rule per file</li>
</ul>
</p></div><div class="subsection"><h3><a name="JEdit">JEdit</a></h3><p>The way I use the JEdit plugin is:</p><ul>
<li>Dock the ErrorList by going to Utilities-&gt;Global Options-&gt;Docking and putting ErrorList at the bottom of the screen</li>
<li>Open the File Browser if it isn't already open</li>
<li>Double-click on a source directory</li>
<li>Select Plugins-&gt;PMD-&gt;Check directory recursively</li>
</ul><p>Note that you can select individual rules by going to Utilities-&gt;Global Options-&gt;Plugin Options-&gt;PMD.  Also,
you can change the plugin to prompt you for a directory to check by going to that same menu and
selecting the "Ask for Directory" checkbox.</p></div><div class="subsection"><h3><a name="Maven">Maven</a></h3><p>Please see <a href="http://maven.apache.org/reference/plugins/pmd/">the Maven plugins web site</a> for more information.</p></div><div class="subsection"><h3><a name="TextPad">TextPad</a></h3><H5><U>Assumptions</U></H5><P><UL>
        <LI>The Java Development Kit, version 1.3.1 (versions 1.3 and higher are acceptable) is properly installed into your machine, and exists in <CODE>D:\java\jdk_131\</CODE>.  This means that <CODE>D:\java\jdk_131\bin\java.exe</CODE> exists.</LI>
        <LI>PMD version 1.8 exists in <CODE>D:\java\pmd-1.8\</CODE>.  This means that <CODE>D:\java\pmd-1.8\lib\pmd-1.8.jar</CODE> (among other jar files in the same directory) exist.</LI>
    </UL></P><H5><U>To integrate into TextPad</U></H5><P><OL>
        <LI>In the <B>Configure</B> menu, choose <B>Preferences...</B>.  This opens the Preferences dialog</LI>
        <LI>In the left pane of the Preferences dialog, choose the <B>Tools</B> branch by clicking on the <I>word</I> "Tools".</LI>
        <LI>On the far right of the dialog, click on the <B>Add</B> button, and then select <B>Program...</B> from the drop-down.  This opens the standard Windows Open File dialog.</LI>
        <LI>Type <CODE>D:\java\jdk_131\bin\java.exe</CODE> and click the <B>Open</B> button.  In the center pane of the Preferences dialog, an item "Java" has now been added, and is currently selected.</LI>
        <LI>Click the word Java, which makes the word editable.  Select the entire word, and type "PMD directory".  Press Return</LI>
        <LI>Repeat steps three through five, but type "PMD file", instead of "PMD directory".</LI>
        <LI>Click <B>Apply</B>.</LI>
        <LI>Expand the <B>Tools</B> branch (if not already) by clicking on the '<CODE>+</CODE>' directly to its left.</LI>
        <LI>In the expanded list, select <B>PMD directory</B>.  This changes the right side of this dialog to the "tool" form.</LI>
        <LI>In the "tool" form, enter these parameters:<UL>
            <LI><B>Parameters:</B>  <CODE>-classpath D:\java\pmd-1.8\lib\pmd-1.8.jar;D:\java\pmd-1.8\lib\jaxen-core-1.0-fcs.jar; D:\java\pmd-1.8\lib\saxpath-1.0-fcs.jar;D:\java\pmd-1.8\lib\xmlParserAPIs-2.0.2.jar; D:\java\pmd-1.8\lib\xercesImpl-2.0.2.jar net.sourceforge.pmd.PMD <I><B>$FileDir</B></I> net.sourceforge.pmd.renderers.TextPadRenderer E:\directory\my_pmd_ruleset.xml -debug</CODE>
            <BR></BR>(<I>Eliminate the spaces following both '<CODE>jaxen-core-1.0-fcs.jar;</CODE>' and '<CODE>xmlParserAPIs-2.0.2.jar;</CODE>'.  They are there to prevent the text from exceeding the right side of your screen</I>)</LI>
            <LI><B>Initial Folder:</B>  <CODE>$FileDir</CODE></LI>
            <LI><B>Save all documents first:</B>  <CODE>Checked</CODE></LI>
            <LI><B>Capture output:</B>  <CODE>Checked</CODE></LI>
            <LI><B><I>All other checkboxes</I>:</B>  Unchecked</LI>
            <LI><B>Regular expression to match output:</B>  <CODE>^\([^(]+\)(\([0-9]+\),</CODE></LI>
            <LI><B>Registers/File:</B> <CODE>1</CODE></LI>
            <LI><B>Registers/Line:</B> <CODE>2</CODE></LI>
        </UL></LI>
        <LI>In the expanded list, select <B>PMD file</B>.</LI>
        <LI>In the "tool" form, enter the same parameters as above, except replace '<CODE>$FileDir</CODE>' with '<CODE>$File</CODE>', in the Parameters textbox.</LI>
        <LI>To save your work (truly, given a quirk of TextPad), click on <B>OK</B>, which closes the Preferences dialog.  Restart TextPad and re-open the Preferences dialog.</LI>
        <LI>Go back to both the "PMD directory" and "PMD file" Tools branches, and replace '<CODE>E:\directory\my_pmd_ruleset.xml</CODE>' with the ruleset of your choice.  For example, <CODE>rulesets/basic.xml</CODE>.</LI>
        <LI>Go to the <B>Keyboard</B> branch in the left pane (above <B>Tools</B>), which changes the right side to the "keyboard configuration" form.</LI>
        <LI>In the <B>Categories</B> list box, select <B>Tools</B>.</LI>
        <LI>In the <B>Command</B> list box, select <B>PMD directory</B>.</LI>
        <LI>Put your cursor into the <B>Press new shortcut key</B>, and type your desired key command.  For example <CODE>Ctrl+Page Up</CODE></LI>
        <LI>Click <B>Assign</B>.</LI>
        <LI>In the <B>Command</B> list box, select <B>PMD file</B>.</LI>
        <LI>Put your cursor into the <B>Press new shortcut key</B>, and type your desired key command.  For example <CODE>Ctrl+Page Down</CODE></LI>
        <LI>Click <B>Assign</B>.</LI>
        <LI>Save your work again:  Click on <B>OK</B>, which closes the Preferences dialog, and then restart TextPad.</LI>
    </OL></P><H5><U>To run PMD against a single Java file</U></H5><P><OL>
        <LI>In TextPad, open any Java file.</LI>
        <LI>Click <CODE>Ctrl+Page Down</CODE>.  This opens an empty, read-only text document (titled "Command Results").  When PMD completes its analysis, this document will be populated with a listing of violated rules (or "Command completed successfully" indicating no violations).</LI>
        <LI>Double click any line to go to it.</LI>
    </OL></P><H5><U>To run PMD against a directory of Java files</U></H5><P><OL>
        <LI>In TextPad, open <I>any</I> file in the <I>root</I> directory you wish to analyze.  Unfortunately, you'll need to create a dummy file, if no file exists there.</LI>
        <LI>Click <CODE>Ctrl+Page Up</CODE>.  This opens an empty, read-only text document (titled "Command Results").  When PMD completes its analysis, this document will be populated with a listing of violated rules (or "Command completed successfully" indicating no violations).</LI>
        <LI>Double click any line to go to it.</LI>
    </OL></P><P><I>Because directory analysis may take a while, you may choose to cancel this operation.  Do so by closing the (blank Command Results) document, and then confirming that, "yes, I do really want to exit the tool".</I></P></div><div class="subsection"><h3><a name="Gel">Gel</a></h3><p>Here's how to set up the PMD-Gel plugin:</p><ul>
  <li>Download the pmd-gel-[version].zip file</li>
  <li>Close Gel</li>
  <li>Remove any old plugin versions from your gel\plugins directory</li>
  <li>Unzip the new zip file into your gel\plugins directory</li>
  <li>Start Gel</li>
  <li>Go to Tools-&gt;Options-&gt;Plugin</li>
  <li>Select the PMD plugin and click "Remove"</li>
  <li>Click "Add" and select "net.sourceforge.pmd.gel.PMDPlugin"</li>
  <li>Restart Gel</li>
  </ul><p>That's pretty much it.  Now you can open a Java project and click on Plugins-&gt;PMD and
  a configuration panel will pop up.  You can pick which ruleset you want to run and
      you can also pick whether you want to run PMD on the current file or on every
      source file in your project.</p><p>Note that the source code needs to be compilable before PMD can check it.</p></div><div class="subsection"><h3><a name="IDEA">IDEA</a></h3><p>There's not a "real" - i.e., integrated into the same Java VM - plugin for IDEA, but using it as an IDEA External Tool
works OK.  Here's how to set it up:</p><ul>
<li>Open IDEA and go to Tools-&gt;IDE Options</li>
<li>Select External Tools from the left side menu</li>
<li>Click on the Add button</li>
<li>Fill in the blocks</li>
<ul>
<li>Name: PMD</li>
<li>Description: PMD doth help one clean the code</li>
<li>Program: javaw</li>
<li>For the next two parameters you'll need to plug in the location of your PMD installation, the rulesets you want to use, and your working directory</li>
<li>Parameters: -cp %CLASSPATH%;c:\pmd\lib\pmd-1.8.jar;c:\pmd\lib\jaxen-core-1.0-fcs.jar;c:\pmd\lib\saxpath-1.0-fcs.jar net.sourceforge.pmd.PMD $FilePath$ ideaj rulesets/unusedcode.xml,rulesets/imports.xml $Sourcepath$ $FileClass$.method $FileName$ </li>
<li>Working directory: c:\</li>
</ul>
</ul><p>That's pretty much it.  Now you can right click on a source directory and select PMD, it'll run recursively on the source files, and the results should
be displayed in a window and hyperlinked into the correct file and line of code.  I usually
right-click on the message window title bar and unselect "autohide" so the window doesn't go
away every time I fix something in the code window.</p></div><div class="subsection"><h3><a name="jDeveloper">jDeveloper</a></h3><p>To install the jDeveloper plugin, download the binary release and unzip it
      into your jdev/lib/ext directory.  Then restart jDeveloper.  To use it, open the
Tools-&amp;Preferences menu, click on the PMD option, and select
a couple of rules to try.  To run it, right click on either
a Java source file or a .jpr file (i.e., a project file) and
select PMD.  Any rule violations should show up in a
LogWindow at the bottom of the screen.              </p></div><div class="subsection"><h3><a name="Ant">Ant</a></h3><p>
Using PMD with Ant is such a standard usage that we hardly think of it as an integration point.  But, I guess
it is.  You can read more about the PMD Ant task <a href="running.html">here</a>.
</p></div></div></div></div><div class="clear"><hr></hr></div><div id="footer"><div class="xright">© 2002-2004, Project Ultra*Log @ DARPA</div><div class="clear"><hr></hr></div></div></body></html>